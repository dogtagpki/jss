# BEGIN COPYRIGHT BLOCK
# (C) 2018 Red Hat, Inc.
# All rights reserved.
# END COPYRIGHT BLOCK

language: java

services:
  - docker

stages:
  - validate
  - test

env:
  - BASE_IMAGE="fedora_27"
  - BASE_IMAGE="fedora_28"
  - BASE_IMAGE="ubuntu_jdk8"

before_install:
  - docker build --no-cache --tag jss_$BASE_IMAGE:latest -f tools/Dockerfiles/$BASE_IMAGE .

script:
  - docker run jss_$BASE_IMAGE:latest

matrix:
  fast_finish: true
  include:
    - stage: validate
      env: BASE_IMAGE="stylecheck"
  allow_failures:
    - env: BASE_IMAGE="ubuntu_jdk8"

