# BEGIN COPYRIGHT BLOCK
# (C) 2018 Red Hat, Inc.
# All rights reserved.
# END COPYRIGHT BLOCK

language: java

services:
  - docker

stages:
  - validate
  - test

env:
  - BASE_IMAGE="fedora_27"
  - BASE_IMAGE="fedora_28"
  - BASE_IMAGE="ubuntu_jdk8"
  - BASE_IMAGE="pkcs11check"

script:
  - bash tools/run_container.sh "$BASE_IMAGE"

matrix:
  fast_finish: true
  include:
    - stage: validate
      env: BASE_IMAGE="stylecheck"
  allow_failures:
    - env: BASE_IMAGE="pkcs11check"
    - env: BASE_IMAGE="ubuntu_jdk8"

